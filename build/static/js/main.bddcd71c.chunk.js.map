{"version":3,"sources":["Navbar/Navbar.tsx","User/login.tsx","User/logout.tsx","Purchase/purchaseBlock.tsx","Purchase/purchase.tsx","Station/station.tsx","UserPanel/UserPanel.tsx","Ticket/ticket.tsx","Profile/profile.tsx","index.tsx"],"names":["Navbar","props","state","homeSectionActive","loginSectionActive","profileSectionActive","this","setState","disconnected","connected","className","onClick","isHomeSection","bind","to","isProfileSection","isLoginSection","Component","Login","email","password","event","target","value","loginResponse","fetchLogin","responseJson","json","status","localStorage","token","setItem","window","location","assign","fetch","method","headers","body","JSON","stringify","login","preventDefault","id","onSubmit","onSubmitForm","type","placeholder","defaultValue","onChange","onChangeEmail","onChangePassword","Logout","clear","PurchaseBlock","priceTicket","stations","getItem","parse","getListStationsPurchased","newStation","arrivalStation","departureStation","getPriceReduction","push","saveStationBought","style","textDecoration","display","getDisplayPrice","onClickBuyingButton","Purchase","stationList","i","computeStation","map","item","key","Station","departureStationSave","arrivalStationSave","departureListStations","arrivalListStations","displayDepartureList","displayArrivalList","searchEnabled","SNCFRailwayReferentialResponse","fetchSNCF","fields","pltf_commune_libellemin","railwayStations","records","Set","station","textContent","prevProps","prevState","snapshot","displayDepartureListStations","displayArrivalListStations","onChangeDepartureStation","onChangeArrivalStation","d","idx","handleCheckDeparture","handleCheckArrival","UserPanel","promoCode","getPromoCode","onChangeInput","disabled","src","md5","alt","firstName","lastName","onClickButtonPromoCode","getCorrectInputPromoCode","React","Ticket","tickets","getMyTickets","ticket","displayTicket","Profile","getEmail","App","path","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bddcd71c.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport './Navbar.css';\n\ninterface NavbarProps {\n    connected: boolean\n}\n\ninterface NavbarState {\n    homeSectionActive: string,\n    loginSectionActive: string,\n    profileSectionActive: string\n}\n\nexport default class Navbar extends Component<NavbarProps, NavbarState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            homeSectionActive: 'active',\n            loginSectionActive: 'none-active',\n            profileSectionActive: 'none-active'\n        }\n    }\n\n    isHomeSection() {\n        this.setState({\n            homeSectionActive: 'active',\n            loginSectionActive: 'none-active',\n            profileSectionActive: 'none-active'\n        })\n    }\n\n    isLoginSection() {\n        this.setState({\n            homeSectionActive: 'none-active',\n            loginSectionActive: 'active',\n            profileSectionActive: 'none-active'\n        })\n    }\n    isProfileSection() {\n        this.setState({\n            homeSectionActive: 'none-active',\n            loginSectionActive: 'none-active',\n            profileSectionActive: 'active'\n        })\n    }\n\n    render() {\n        let disconnected;\n        let connected;\n\n        if (!this.props.connected) {\n            disconnected = (\n                <>\n                    <Link className={this.state.homeSectionActive} onClick={this.isHomeSection.bind(this)}\n                          to='/'>Accueil</Link>\n                    <Link className={this.state.loginSectionActive} onClick={this.isLoginSection.bind(this)}\n                          to='/login'>Connexion</Link>\n                </>\n            );\n        } else {\n            connected = (\n                <>\n                    <Link className={this.state.homeSectionActive} onClick={this.isHomeSection.bind(this)}\n                          to='/purchase'>Accueil</Link>\n                    <Link className={this.state.profileSectionActive} onClick={this.isProfileSection.bind(this)}\n                          to='/profile'>Mon compte</Link>\n                    <Link to='/logout'>Déconnexion</Link>\n                </>\n            );\n        }\n\n        return (\n            <div className=\"topnav\">\n                {disconnected}\n                {connected}\n            </div>\n        )\n    }\n}\n","import React, {Component} from 'react';\nimport './login.css';\n\ninterface LoginProps {\n}\n\ninterface LoginState {\n    email: string,\n    password: string\n}\n\nexport default class Login extends Component<LoginProps, LoginState> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            email: 'eve.holt@reqres.in',\n            password: 'cityslicka'\n        }\n    }\n    onChangeEmail(event) {\n        this.setState({\n            email: event.target.value\n        });\n    }\n    onChangePassword(event) {\n        this.setState({\n            password: event.target.value\n        });\n    }\n    async login() {\n        const loginResponse = this.fetchLogin();\n        const responseJson = (await loginResponse).json();\n\n        if ((await loginResponse).status !== 200) {\n            return;\n        }\n\n        localStorage.setItem('auth_token', (await responseJson).token);\n        localStorage.setItem('email', this.state.email);\n        window.location.assign(\"/purchase\");\n    }\n    fetchLogin() {\n        return fetch('https://reqres.in/api/login', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                email: this.state.email,\n                password: this.state.password,\n            })\n        });\n    }\n    onSubmitForm(event) {\n        this.login();\n        event.preventDefault();\n    }\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                  <form id=\"formLogin\" onSubmit={this.onSubmitForm.bind(this)}>\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Email\" defaultValue={this.state.email} onChange={this.onChangeEmail.bind(this)}/>\n                    <br/>\n                    <input type=\"password\" className=\"form-control\" placeholder=\"Mot de passe\" defaultValue={this.state.password} onChange={this.onChangePassword.bind(this)}/>\n                    <br/>\n                    <button type=\"submit\" className=\"form-control\">login</button>\n                  </form>\n                </div>\n            </div>\n        )\n    }\n}\n","import React, {Component} from 'react';\nimport { Redirect } from 'react-router-dom';\n\ninterface LogoutProps {\n}\n\ninterface LogoutState {\n}\n\nexport default class Logout extends Component<LogoutProps, LogoutState> {\n    componentDidMount() {\n        localStorage.clear();\n        window.location.assign(\"/\");\n    }\n    render() {\n        return <Redirect to=\"/\"/>\n    }\n}\n","import React, {Component} from 'react';\nimport './purchaseBlock.css';\n\ninterface PurchaseBlockProps {\n    departureStation: string,\n    arrivalStation: string,\n}\n\ninterface PurchaseBlockStates {\n    priceTicket: number\n}\n\nexport default class PurchaseBlock extends Component<PurchaseBlockProps, PurchaseBlockStates> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            priceTicket: 20,\n        };\n    }\n    getListStationsPurchased() {\n        const stations = localStorage.getItem('stations');\n\n        return stations ? JSON.parse(stations) : [];\n    }\n    saveStationBought() {\n        const stations = this.getListStationsPurchased();\n\n        let newStation = [this.props.arrivalStation, this.props.departureStation, this.getPriceReduction()];\n\n        stations.push(newStation);\n\n        localStorage.setItem('stations', JSON.stringify(stations));\n    }\n    onClickBuyingButton(event) {\n        this.saveStationBought();\n    }\n    getPriceReduction() {\n        const promoCode = localStorage.getItem('promoCode');\n\n        return promoCode ? this.state.priceTicket / 2 : this.state.priceTicket;\n    }\n    getDisplayPrice() {\n        return (\n            <div>\n                <p style={{ textDecoration: this.getPriceReduction() !== this.state.priceTicket ? 'line-through' : ''}}>{this.state.priceTicket}€</p>\n                <p style={{ display: this.getPriceReduction() !== this.state.priceTicket ? 'block' : 'none' }}>Prix après réduction : {this.getPriceReduction()}€</p>\n            </div>\n        );\n    }\n    render() {\n        return (\n            <div className=\"row schedule\">\n                <div className=\"col-lg-3\">\n                    <p>{this.props.departureStation}</p>\n                    <hr/>\n                    <p>{this.props.arrivalStation}</p>\n                </div>\n                <div className=\"col-lg-3\">\n                    {this.getDisplayPrice()}\n                </div>\n                <form onSubmit={this.onClickBuyingButton.bind(this)} className=\"col-lg-6\">\n                    <input type=\"submit\" value=\"Acheter\"\n                           className=\"form-control\"/>\n                </form>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport PurchaseBlock from \"./purchaseBlock\";\nimport './purchase.css';\n\ninterface PurchaseProps {\n    departureStation: string,\n    arrivalStation: string\n}\n\ninterface PurchaseStates {\n    stationList: any\n}\n\nexport default class Purchase extends Component<PurchaseProps, PurchaseStates> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            stationList: []\n        }\n    }\n    computeStation() {\n        const stationList: string[] = [];\n\n        for (let i = 0; i < 10; i++) {\n            stationList.push('9h00');\n        }\n\n        this.setState({\n            stationList: stationList\n        });\n    }\n    componentDidMount() {\n        this.computeStation();\n    }\n    render() {\n        return (\n            <div id=\"purchaseBlock\" className=\"col-lg-12\">\n                {this.state.stationList.map((item, key) =>\n                    <PurchaseBlock key={key} departureStation={this.props.departureStation} arrivalStation={this.props.arrivalStation}/>\n                )}\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport './station.css';\nimport Purchase from \"../Purchase/purchase\";\n\ninterface StationProps {\n}\n\ninterface StationStates {\n    departureStation: string,\n    arrivalStation: string,\n    departureStationSave: string,\n    arrivalStationSave: string,\n    departureListStations: any,\n    arrivalListStations: any,\n    displayDepartureList: boolean,\n    displayArrivalList: boolean,\n    searchEnabled: boolean\n}\n\nexport default class Station extends Component<StationProps, StationStates> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            departureStation: '',\n            arrivalStation: '',\n            departureStationSave: '',\n            arrivalStationSave: '',\n            departureListStations: [],\n            arrivalListStations: [],\n            displayDepartureList: false,\n            displayArrivalList: false,\n            searchEnabled: false\n        }\n    }\n    async displayDepartureListStations() {\n        if (this.state.departureStation === '') {\n            this.setState({\n                departureListStations: []\n            });\n            return;\n        }\n        const SNCFRailwayReferentialResponse = this.fetchSNCF(this.state.departureStation);\n        const responseJson = (await SNCFRailwayReferentialResponse).json();\n\n        const railwayStations = (await responseJson).records.map(value => {\n            return value.fields.pltf_commune_libellemin;\n        });\n\n        this.setState({\n            departureListStations: [...new Set(await railwayStations)]\n        });\n    }\n    async displayArrivalListStations() {\n        if (this.state.arrivalStation === '') {\n            this.setState({\n                arrivalListStations: []\n            });\n            return;\n        }\n        const SNCFRailwayReferentialResponse = this.fetchSNCF(this.state.arrivalStation);\n        const responseJson = (await SNCFRailwayReferentialResponse).json();\n\n        const railwayStations = (await responseJson).records.map(value => {\n            return value.fields.pltf_commune_libellemin;\n        });\n\n        this.setState({\n            arrivalListStations: [...new Set(await railwayStations)]\n        });\n    }\n    fetchSNCF(station) {\n        return fetch('https://ressources.data.sncf.com/api/records/1.0/search/?dataset=referentiel-gares-voyageurs&q=' + station);\n    }\n    onChangeDepartureStation(event) {\n        this.setState({\n            departureStation: event.target.value,\n            displayDepartureList: true\n        });\n    }\n    onChangeArrivalStation(event) {\n        this.setState({\n            arrivalStation: event.target.value,\n            displayArrivalList: true,\n        });\n    }\n    handleCheckDeparture(event) {\n        this.setState({\n            departureStation: event.target.textContent,\n            displayDepartureList: false,\n        });\n    }\n    handleCheckArrival(event) {\n        this.setState({\n            arrivalStation: event.target.textContent,\n            displayArrivalList: false,\n        });\n    }\n    onSubmitForm(event) {\n        this.setState({\n            departureStationSave: this.state.departureStation,\n            arrivalStationSave: this.state.arrivalStation,\n            searchEnabled: true\n        });\n        event.preventDefault();\n    }\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if (this.state.departureStation !== prevState.departureStation) {\n            this.displayDepartureListStations();\n            this.setState({\n                displayArrivalList: false,\n            });\n        }\n        if (this.state.arrivalStation !== prevState.arrivalStation) {\n            this.displayArrivalListStations();\n            this.setState({\n                displayDepartureList: false,\n            });\n        }\n    }\n    render() {\n        return (\n            <div id=\"formStation\" className=\"container\">\n                <div className=\"row\">\n                    <form className=\"col-lg-6\" onSubmit={this.onSubmitForm.bind(this)}>\n                        <p>Quel est votre trajet ?</p>\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Saisir votre gare de départ...\" value={this.state.departureStation} onChange={this.onChangeDepartureStation.bind(this)}/>\n                        <br/>\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Saisir votre gare de d'arrivée...\"  value={this.state.arrivalStation} onChange={this.onChangeArrivalStation.bind(this)}/>\n                        <br/>\n                        <input type=\"date\" className=\"form-control\"/>\n                        <br/>\n                        <input type=\"submit\" className=\"form-control\"/>\n                    </form>\n                    <div className=\"col-lg-6\">\n                        <ul className=\"list-group\" style={{ display: this.state.displayDepartureList ? 'block' : 'none' }}>\n                            {this.state.departureListStations.map((d, idx) => {\n                                return (<li onClick={this.handleCheckDeparture.bind(this)} className=\"list-group-item\" key={idx}>{d}</li>)\n                            })}\n                        </ul>\n                        <ul className=\"list-group\" style={{ display: this.state.displayArrivalList ? 'block' : 'none' }}>\n                            {this.state.arrivalListStations.map((d, idx) => {\n                                return (<li onClick={this.handleCheckArrival.bind(this)} className=\"list-group-item\" key={idx}>{d}</li>)\n                            })}\n                        </ul>\n                    </div>\n                </div>\n                <div className=\"row\" style={{ display: this.state.searchEnabled ? 'block' : 'none' }}>\n                    <Purchase departureStation={this.state.departureStation} arrivalStation={this.state.arrivalStation}/>\n                </div>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport md5 from 'md5';\nimport emailPropType from 'email-prop-type';\n\ninterface UserPanelProps {\n    firstName: string,\n    lastName: string,\n    email: string\n}\n\ninterface UserPanelStates {\n    promoCode: string\n}\n\nexport default class UserPanel extends React.Component<UserPanelProps, UserPanelStates> {\n    static propTypes = {\n        email: emailPropType.isRequired,\n        firstName: PropTypes.string.isRequired,\n        lastName: PropTypes.string.isRequired,\n    };\n    constructor(props) {\n        super(props);\n        this.state = {\n            promoCode: this.getPromoCode(),\n        };\n    }\n    getPromoCode() {\n        const promoCode = localStorage.getItem('promoCode');\n        return promoCode ? promoCode : '';\n    }\n    onChangeInput(event) {\n        this.setState({\n            promoCode: event.target.value\n        });\n    }\n    onClickButtonPromoCode(event) {\n        localStorage.setItem('promoCode', this.state.promoCode);\n    }\n    getCorrectInputPromoCode() {\n        if (localStorage.getItem('stations') === null) {\n            return (\n                <div>\n                    <p>Code de réduction</p>\n                    <input type=\"text\" className=\"form-control\" defaultValue={this.state.promoCode}\n                           onChange={this.onChangeInput.bind(this)}/>\n                    <br/>\n                    <input type=\"submit\" className=\"form-control\" value=\"Appliquer\"/>\n                </div>\n            );\n        }\n        return (\n            <div>\n                <p>Code de réduction</p>\n                <input disabled type=\"text\" className=\"form-control\" defaultValue={this.state.promoCode}\n                       onChange={this.onChangeInput.bind(this)}/>\n                <br/>\n                <input disabled type=\"submit\" className=\"form-control\" value=\"Appliquer\"/>\n            </div>\n        );\n    }\n    render() {\n        return (\n            <div className=\"card\">\n                <img src={'https://www.gravatar.com/avatar/' + md5(this.props.email) + '?s=286'}\n                     className=\"card-img-top\" alt=\"hello\"/>\n                <div className=\"card-body\">\n                    <h5 className=\"card-title\">{this.props.firstName + ' ' + this.props.lastName}</h5>\n                    <p className=\"card-title\">{this.props.email}</p>\n                    <hr/>\n                    <form onSubmit={this.onClickButtonPromoCode.bind(this)}>\n                        {this.getCorrectInputPromoCode()}\n                    </form>\n                </div>\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\n\ninterface TicketProps {\n}\n\ninterface TicketStates {\n    tickets: any\n}\n\nexport default class Ticket extends Component<TicketProps, TicketStates> {\n    constructor(props) {\n        super(props);\n        this.state = {\n            tickets: this.getMyTickets()\n        };\n    }\n\n    getMyTickets() {\n        const tickets = localStorage.getItem('stations');\n\n        return tickets ? JSON.parse(tickets) : [];\n    }\n\n    displayTicket(ticket, idx) {\n        return (\n            <div key={idx}>\n                <p>{ticket[0]} -> {ticket[1]}: {ticket[2]}€</p>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <h2>Mes tickets</h2>\n                {this.state.tickets.map((ticket, idx) => {\n                    return (this.displayTicket(ticket, idx))\n                })}\n            </div>\n        );\n    }\n}\n","import React, {Component} from 'react';\nimport './profile.css';\nimport UserPanel from \"../UserPanel/UserPanel\";\nimport Ticket from \"../Ticket/ticket\";\n\ninterface ProfileProps {\n}\n\ninterface ProfileStates {\n}\n\nexport default class Profile extends Component<ProfileProps, ProfileStates> {\n    getEmail() {\n        const email = localStorage.getItem('email');\n        return email ? email : \"\";\n    }\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"row profile-block\">\n                    <div className=\"col-lg-4\">\n                        <UserPanel firstName=\"Maxime\" lastName=\"JOSIEN\" email={this.getEmail()}/>\n                    </div>\n                    <div className=\"col-lg-6 border-tickets\">\n                        <Ticket/>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Navbar from './Navbar/Navbar';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport Login from \"./User/login\";\nimport Logout from \"./User/logout\";\nimport Station from \"./Station/station\";\nimport Profile from \"./Profile/profile\";\n\nexport default function App() {\n    let connected = false;\n\n    if (localStorage.getItem('auth_token')) {\n        connected = true;\n    }\n    return (\n        <div className=\"App\">\n            <Router>\n                <Navbar connected={connected}/>\n                <Route path=\"/login\" component={Login}/>\n                <Route path=\"/logout\" component={Logout}/>\n                <Route path=\"/purchase\" component={Station}/>\n                <Route path=\"/profile\" component={Profile}/>\n            </Router>\n        </div>\n    );\n}\n\nReactDOM.render(<App/>, document.getElementById('root'));\n"],"sourceRoot":""}